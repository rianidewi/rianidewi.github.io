<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Workflow Hub</title>
    <link rel="icon" href="/portfolio/favicon.png" type="image/png" />
    <link rel="stylesheet" href="/portfolio/demo.css?v=20260209-28" />
  </head>
  <body>
    <header>
      <div class="brand brand-logo">
        <span class="brand-badge">RD</span>
        <span class="brand-copy">
          <strong>Riani Dewi</strong>
          <small>Software Developer</small>
        </span>
      </div>
      <nav>
        <a class="nav-link" href="/portfolio">
          <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 3l9 8h-3v9h-5v-5H11v5H6v-9H3l9-8z"/>
          </svg>
          <span>Home</span>
        </a>
      </nav>
    </header>

    <main class="app-shell workflow-hub">
      <section class="hero hub-hero">
        <h1>Business Workflow Demos</h1>
        <p class="muted">
          Explore end-to-end business process simulations. Open any workflow and
          try creating requests, advancing stages, and reviewing audit trails.
        </p>
      </section>

      <section class="cards workflow-grid">
        <article class="card workflow-card">
          <h3>Procure-to-Pay (P2P)</h3>
          <p class="workflow-meta"><span>Requisition</span><span>PO</span><span>GR</span><span>Invoice</span><span>Payment</span></p>
          <a class="workflow-link" href="/portfolio/demo/workflows/procure-to-pay-workflow" aria-label="Open demo">
            <span>Open Demo</span>
          </a>
        </article>
        <article class="card workflow-card">
          <h3>Order-to-Cash (O2C)</h3>
          <p class="workflow-meta"><span>Sales Order</span><span>Delivery</span><span>Invoice</span><span>Payment</span></p>
          <a class="workflow-link" href="/portfolio/demo/workflows/order-to-cash-workflow" aria-label="Open demo">
            <span>Open Demo</span>
          </a>
        </article>
        <article class="card workflow-card">
          <h3>Record-to-Report (R2R)</h3>
          <p class="workflow-meta"><span>Journal</span><span>Close</span><span>Financial Reporting</span></p>
          <a class="workflow-link" href="/portfolio/demo/workflows/record-to-report-workflow" aria-label="Open demo">
            <span>Open Demo</span>
          </a>
        </article>
        <article class="card workflow-card">
          <h3>Hire-to-Retire (H2R)</h3>
          <p class="workflow-meta"><span>Hiring</span><span>Onboarding</span><span>Payroll</span><span>Offboarding</span></p>
          <a class="workflow-link" href="/portfolio/demo/workflows/hire-to-retire-workflow" aria-label="Open demo">
            <span>Open Demo</span>
          </a>
        </article>
        <article class="card workflow-card">
          <h3>Inventory Replenishment</h3>
          <p class="workflow-meta"><span>Demand</span><span>Reorder</span><span>GR</span><span>Stock Update</span></p>
          <a class="workflow-link" href="/portfolio/demo/workflows/inventory-replenishment-workflow" aria-label="Open demo">
            <span>Open Demo</span>
          </a>
        </article>
        <article class="card workflow-card">
          <h3>Returns / RMA</h3>
          <p class="workflow-meta"><span>Return Request</span><span>Approval</span><span>GR</span><span>Credit Note</span></p>
          <a class="workflow-link" href="/portfolio/demo/workflows/returns-rma-workflow" aria-label="Open demo">
            <span>Open Demo</span>
          </a>
        </article>
      </section>
    </main>

    <div class="floating-actions" aria-label="Quick actions">
      <button class="floating-btn theme-toggle" id="themeToggle" type="button" aria-pressed="false" aria-label="Switch to dark theme">
        <svg class="icon icon-moon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path d="M20.2 14.1A8.5 8.5 0 1 1 9.9 3.8a1 1 0 0 1 1.1 1.3 6.5 6.5 0 0 0 7.9 7.9 1 1 0 0 1 1.3 1.1z"/>
        </svg>
        <svg class="icon icon-sun" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path d="M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0-5a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1zm0 16a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1zM4.2 5.6a1 1 0 0 1 1.4 0L7 7a1 1 0 0 1-1.4 1.4L4.2 7a1 1 0 0 1 0-1.4zm12.8 12.8a1 1 0 0 1 1.4 0l1.4 1.4a1 1 0 1 1-1.4 1.4L17 19.8a1 1 0 0 1 0-1.4zM18 12a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1zM1 12a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2H2a1 1 0 0 1-1-1zm4.6 7.2a1 1 0 0 1 0 1.4L4.2 22a1 1 0 1 1-1.4-1.4l1.4-1.4a1 1 0 0 1 1.4 0zM19.8 2.8a1 1 0 0 1 0 1.4L18.4 5.6A1 1 0 1 1 17 4.2l1.4-1.4a1 1 0 0 1 1.4 0z"/>
        </svg>
      </button>
      <button class="floating-btn scroll-top-btn" id="scrollTopBtn" type="button" aria-label="Scroll to top">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path d="M12 4l7 8h-4v8h-6v-8H5l7-8z"/>
        </svg>
      </button>
    </div>

    <script>
      (function () {
        var root = document.documentElement;
        var button = document.getElementById('themeToggle');
        var key = 'workflow-demo-theme';

        function readSavedTheme() {
          try {
            var value = localStorage.getItem(key);
            return value === 'dark' || value === 'light' ? value : 'light';
          } catch (e) {
            return 'light';
          }
        }

        function applyTheme(theme) {
          var next = theme === 'dark' ? 'dark' : 'light';
          root.setAttribute('data-theme', next);
          if (!button) return;
          var dark = next === 'dark';
          button.setAttribute('aria-label', dark ? 'Switch to light theme' : 'Switch to dark theme');
          button.setAttribute('aria-pressed', String(dark));
        }

        applyTheme(readSavedTheme());

        if (!button) return;
        button.addEventListener('click', function () {
          var current = root.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
          var next = current === 'dark' ? 'light' : 'dark';
          applyTheme(next);
          try {
            localStorage.setItem(key, next);
          } catch (e) {}
        });
      })();

      (function () {
        var scrollTopBtn = document.getElementById('scrollTopBtn');
        if (!scrollTopBtn) return;

        function syncVisibility() {
          var y = window.scrollY || document.documentElement.scrollTop || 0;
          scrollTopBtn.classList.toggle('is-visible', y > 220);
        }

        window.addEventListener('scroll', syncVisibility, { passive: true });
        syncVisibility();

        scrollTopBtn.addEventListener('click', function () {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      })();

      (function () {
        var dock = document.querySelector('.floating-actions');
        if (!dock) return;
        if (!window.matchMedia('(max-width: 720px)').matches) return;

        var key = 'rd-floating-actions-pos';
        var margin = 8;
        var activeId = null;
        var startX = 0;
        var startY = 0;
        var baseX = 0;
        var baseY = 0;
        var moved = false;
        var suppressClick = false;

        dock.style.touchAction = 'none';

        function clamp(value, min, max) {
          return Math.max(min, Math.min(max, value));
        }

        function applyPosition(x, y) {
          dock.style.left = Math.round(x) + 'px';
          dock.style.top = Math.round(y) + 'px';
          dock.style.right = 'auto';
          dock.style.bottom = 'auto';
        }

        function clampCurrentPosition() {
          if (!dock.style.left || !dock.style.top) return;
          var rect = dock.getBoundingClientRect();
          var x = clamp(parseFloat(dock.style.left) || rect.left, margin, window.innerWidth - rect.width - margin);
          var y = clamp(parseFloat(dock.style.top) || rect.top, margin, window.innerHeight - rect.height - margin);
          applyPosition(x, y);
        }

        try {
          var saved = localStorage.getItem(key);
          if (saved) {
            var pos = JSON.parse(saved);
            if (typeof pos.x === 'number' && typeof pos.y === 'number') {
              applyPosition(pos.x, pos.y);
              clampCurrentPosition();
            }
          }
        } catch (e) {}

        dock.addEventListener('pointerdown', function (e) {
          if (e.pointerType !== 'touch') return;
          activeId = e.pointerId;
          moved = false;
          var rect = dock.getBoundingClientRect();
          startX = e.clientX;
          startY = e.clientY;
          baseX = rect.left;
          baseY = rect.top;
          dock.classList.add('is-dragging');
          dock.setPointerCapture(activeId);
          e.preventDefault();
        });

        dock.addEventListener('pointermove', function (e) {
          if (e.pointerId !== activeId) return;
          var rect = dock.getBoundingClientRect();
          var dx = e.clientX - startX;
          var dy = e.clientY - startY;
          if (Math.abs(dx) > 4 || Math.abs(dy) > 4) moved = true;
          var nextX = clamp(baseX + dx, margin, window.innerWidth - rect.width - margin);
          var nextY = clamp(baseY + dy, margin, window.innerHeight - rect.height - margin);
          applyPosition(nextX, nextY);
          e.preventDefault();
        });

        function endDrag(e) {
          if (e.pointerId !== activeId) return;
          dock.classList.remove('is-dragging');
          if (moved) {
            suppressClick = true;
            try {
              localStorage.setItem(key, JSON.stringify({
                x: parseFloat(dock.style.left) || 0,
                y: parseFloat(dock.style.top) || 0
              }));
            } catch (err) {}
          }
          if (dock.hasPointerCapture(activeId)) dock.releasePointerCapture(activeId);
          activeId = null;
        }

        dock.addEventListener('pointerup', endDrag);
        dock.addEventListener('pointercancel', endDrag);
        dock.addEventListener('click', function (e) {
          if (!suppressClick) return;
          e.preventDefault();
          e.stopPropagation();
          suppressClick = false;
        }, true);

        window.addEventListener('resize', clampCurrentPosition);
      })();
    </script>
  </body>
</html>

